<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <title>Supplier list</title>
  </head>
  <body>

    <div class="container" align="center">
      <h2>Supplier List</h2>
        <a href="/supplier/add" class="btn btn-success">Add Supplier</a>
        <br><br>
          <table class="table">
            <thead>
              <tr>
                <th>No</th>
                <th>Id</th>
                <th>Name</th>
                <th>City</th>
                <th>List Item</th>
                <th>Add Item</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <% let count = 1 %>
              <% suppliers.forEach(supplier => { %>
                <tr>
                  <td><%= count++ %></td>
                  <td><%= supplier.id %></td>
                  <td><%= supplier.name %></td>
                  <td><%= supplier.city %></td>
                  <td><% supplier.Items.forEach(item => {%>
                    <li>
                      <%= item.name %> @ <%= format(item.Supplier_Item.price) %>
                    </li>
                  <% }) %>
                  </td>
                  <td>
                    <a href="/supplier/<%= supplier.id %>/additem" class="btn btn-primary">Assign Item</a>
                  </td>
                  <td>
                    <a href="/supplier/edit/<%= supplier.id %>" class="btn btn-primary">Edit</a>
                    <a href="/supplier/delete/<%= supplier.id %>" class="btn btn-danger" onclick="return confirm (`Are you sure to delete this data?`)">Delete</a>
                  </td>
                </tr>
                <% }) %>
              </tbody>
        </table>
  </div>
  </body>
</html>
